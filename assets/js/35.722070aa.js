(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{340:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("A python a day keeps the PM away.")]),t._v(" "),s("p",[t._v("因为太菜，所以这是第一篇技术博， 很紧张。")])]),t._v(" "),s("p",[t._v("逛 GitHub 的时候，发现了一个很酷的 Python 训练项目集。一共有 25 个题目，基本涵盖了用 Python 实现的各种功能。")]),t._v(" "),s("p",[t._v("上一周没有复习 C++ 和网络通信全部用来玩这几个题了。题目地址在 --\x3e "),s("a",{attrs:{href:"https://github.com/spencerwoo98/Dumb-Ways-To-Code",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub | Dumb Ways To Code"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("现在已经通过各种办法，解决了 0000 ~ 0007 还有一个 0010 这些题目。")]),t._v(" "),s("p",[t._v("今天先来总结一下第 0000 题目的思路。")]),t._v(" "),s("p",[s("strong",[t._v("面向 Google, CSDN, StackOverflow 编程。")]),t._v("😄")]),t._v(" "),s("br"),t._v(" "),s("h1",{attrs:{id:"一周目的问题-solutions-pil-or-pillow"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一周目的问题-solutions-pil-or-pillow","aria-hidden":"true"}},[t._v("#")]),t._v(" 一周目的问题 Solutions | PIL or Pillow")]),t._v(" "),s("p",[t._v("第一天遇到的问题是这样的：")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("【第 0000 题】")])]),t._v(" "),s("p",[t._v("将你的 QQ 头像（或者微博头像）右上角加上红色的数字，类似于微信未读信息数量那种提示效果。（类似于图中效果）")])]),t._v(" "),s("div",{staticStyle:{display:"block","margin-left":"auto","margin-right":"auto",width:"20%"}},[s("p",[s("img",{attrs:{src:"https://i.loli.net/2018/04/26/5ae1bd7469715.jpg",alt:""}})])]),t._v(" "),s("p",[t._v("问题分解为：")]),t._v(" "),s("ul",[s("li",[t._v("加载图片")]),t._v(" "),s("li",[t._v("识别图片大小")]),t._v(" "),s("li",[t._v("识别字体文件 TrueType")]),t._v(" "),s("li",[t._v("将文本加到图片右上角并保存")])]),t._v(" "),s("p",[t._v("在 PIL 中有 "),s("code",[t._v("Image")]),t._v(", "),s("code",[t._v("ImageFont")]),t._v(", "),s("code",[t._v("ImageDraw")]),t._v(" 这三个对象，分别用来实现：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Image")]),t._v(": 加载原始图片并将其转换为对象 Object")]),t._v(" "),s("li",[s("code",[t._v("ImageFont")]),t._v(": 加载字体文件")]),t._v(" "),s("li",[s("code",[t._v("ImageDraw")]),t._v(": 将字符添加到图片对象上")])]),t._v(" "),s("br"),t._v(" "),s("h1",{attrs:{id:"talk-is-cheap-show-me-the-code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#talk-is-cheap-show-me-the-code","aria-hidden":"true"}},[t._v("#")]),t._v(" Talk is cheap, show me the code.")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/usr/bin/env python3")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -*- coding: utf-8 -*-")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" PIL "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Image"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ImageDraw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ImageFont\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_unread_count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    draw "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ImageDraw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Draw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size\n    textSize "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("width"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.15")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    textColor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#CB1B45'")]),t._v("\n    textFont "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ImageFont"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("truetype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Arial.ttf'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" textSize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    draw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("width"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.02")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'99'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" font"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("textFont"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fill"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("textColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("save"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icon_added.jpg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jpeg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    img "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Image"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icon.jpg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    add_unread_count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" __name__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'__main__'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("br"),t._v(" "),s("h2",{attrs:{id:"代码中："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码中：","aria-hidden":"true"}},[t._v("#")]),t._v(" 代码中：")]),t._v(" "),s("p",[s("code",[t._v("add_unread_count()")]),t._v(" 是添加 ‘99’ 字样的主函数，参数为图片对象 "),s("code",[t._v("img")]),t._v(".")]),t._v(" "),s("p",[s("code",[t._v("draw = ImageDraw.Draw(img)")]),t._v(" 将图片对象 "),s("code",[t._v("img")]),t._v(" 导入并成为图层背景，我叫它 "),s("code",[t._v("canvas")]),t._v(".")]),t._v(" "),s("p",[t._v("然后 "),s("code",[t._v("width, height = img.size")]),t._v(" 确定背景底照的长宽。")]),t._v(" "),s("p",[s("code",[t._v("ImageFont.truetype('Arial.ttf', textSize)")]),t._v(" 将字体文件 "),s("code",[t._v("Arial.ttf")]),t._v(" 导入并在下一步绘制文本图层时使用。")]),t._v(" "),s("p",[s("code",[t._v("draw.text((width*0.8, height*0.02), '99', font=textFont, fill=textColor)")]),t._v(" 将文本 ‘99’ 绘制到图片右上角。")]),t._v(" "),s("p",[t._v("最后保存图片文件："),s("code",[t._v("img.save('icon_added.jpg', 'jpeg')")])]),t._v(" "),s("br"),t._v(" "),s("h1",{attrs:{id:"reference"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reference","aria-hidden":"true"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),s("p",[t._v("参考了 Python 官方文档 PIL 相关使用。")]),t._v(" "),s("p",[t._v("参考了 "),s("a",{attrs:{href:"https://github.com/Show-Me-the-Code/python",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个 Repo 里面"),s("OutboundLink")],1),t._v(" 大佬们的思路。")]),t._v(" "),s("p",[t._v("面向 Google 和 StackOverflow 编程成功。")]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("p",[t._v("©Spencer Woo")])])},[],!1,null,null,null);a.default=e.exports}}]);